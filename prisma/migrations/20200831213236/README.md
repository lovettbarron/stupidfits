# Migration `20200831213236`

This migration has been generated by Andrew Lovett-Barron at 8/31/2020, 11:32:36 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
DROP INDEX "public"."users.social_unique"

ALTER TABLE "public"."Social" ADD COLUMN "userId" integer   

ALTER TABLE "public"."users" DROP COLUMN "social"

ALTER TABLE "public"."Social" ADD FOREIGN KEY ("userId")REFERENCES "public"."users"("id") ON DELETE SET NULL ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200831211559-tweak..20200831213236
--- datamodel.dml
+++ datamodel.dml
@@ -3,17 +3,17 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model User {
   id            Int       @default(autoincrement()) @id
   username      String?   @unique
   email         String?   @unique
   name          String?
-  social        String?   @unique
+  social        Social[]
   posts         Post[]
   sessions      Session[]
   accounts      Account[]
   emailVerified DateTime? @map(name: "email_verified")
@@ -27,9 +27,8 @@
 model Account {
   id                 Int       @default(autoincrement()) @id
   compoundId         String    @unique @map(name: "compound_id")
   userId             Int       @map(name: "user_id")
-  user               User      @relation(fields: [userId], references: [id])
   providerType       String    @map(name: "provider_type")
   providerId         String    @map(name: "provider_id")
   providerAccountId  String    @map(name: "provider_account_id")
   refreshToken       String?   @map(name: "refresh_token")
```


