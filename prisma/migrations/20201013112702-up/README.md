# Migration `20201013112702-up`

This migration has been generated by Andrew Lovett-Barron at 10/13/2020, 1:27:02 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."Comment" (
"id" SERIAL,
"userId" integer   NOT NULL ,
"fitId" integer   NOT NULL ,
"comment" text   NOT NULL ,
PRIMARY KEY ("id")
)

ALTER TABLE "public"."Comment" ADD FOREIGN KEY ("userId")REFERENCES "public"."users"("id") ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE "public"."Comment" ADD FOREIGN KEY ("fitId")REFERENCES "public"."Fit"("id") ON DELETE CASCADE ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201010152950-up..20201013112702-up
--- datamodel.dml
+++ datamodel.dml
@@ -4,9 +4,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model Account {
   id                 Int       @id @default(autoincrement())
@@ -58,8 +58,9 @@
   public           Boolean   @default(true)
   profilepage      Boolean   @default(true)
+  Comment Comment[]
   @@map(name: "users")
 }
 model VerificationRequest {
@@ -85,15 +86,16 @@
   fitId       Int?
 }
 model Fit {
-  id         Int     @id @default(autoincrement())
-  media      Media   @relation("MediaRelationship")
-  components Item[]  @relation("FitComponent")
+  id         Int       @id @default(autoincrement())
+  media      Media     @relation("MediaRelationship")
+  components Item[]    @relation("FitComponent")
   desc       String?
   temp       String?
-  user       User?   @relation("FitRelation", fields: [userId], references: [id])
+  user       User?     @relation("FitRelation", fields: [userId], references: [id])
   userId     Int?
+  Comment    Comment[]
 }
 model Closet {
   id     Int    @id @default(autoincrement())
@@ -133,8 +135,17 @@
   Closet   Closet?  @relation("ClosetGrails", fields: [closetId], references: [id])
   brandId  Int
 }
+model Comment {
+  id      Int    @id @default(autoincrement())
+  user    User   @relation(fields: [userId], references: [id])
+  fit     Fit    @relation(fields: [fitId], references: [id])
+  userId  Int
+  fitId   Int
+  comment String
+}
+
 enum ItemType {
   BAG
   SHOE
   JACKET
```


