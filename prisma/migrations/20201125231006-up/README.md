# Migration `20201125231006-up`

This migration has been generated by Andrew Lovett-Barron at 11/26/2020, 12:10:06 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "Battle" ADD COLUMN     "archive" BOOLEAN NOT NULL DEFAULT false

ALTER TABLE "Notification" ALTER COLUMN "seen" SET DEFAULT false,
ALTER COLUMN "content" SET DEFAULT E'',
ALTER COLUMN "cta" SET DEFAULT E''
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201124083328-up..20201125231006-up
--- datamodel.dml
+++ datamodel.dml
@@ -1,14 +1,19 @@
-generator client {
-  provider             = "prisma-client-js"
-  experimentalFeatures = ["connectOrCreate"]
-}
-
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
+generator client {
+  provider = "prisma-client-js"
+  // experimentalFeatures = ["connectOrCreate"]
+}
+
+// datasource db {
+//   provider = "postgresql"
+//   url = "***"
+// }
+
 model Account {
   id                 Int       @id @default(autoincrement())
   compoundId         String    @unique @map(name: "compound_id")
   userId             Int       @map(name: "user_id")
@@ -265,11 +270,11 @@
 model Notification {
   id        Int      @id @default(autoincrement())
   user      User     @relation(fields: [userId], references: [id])
-  seen      Boolean
-  content   String
-  cta       String
+  seen      Boolean  @default(false)
+  content   String   @default(value: "")
+  cta       String   @default(value: "")
   createdAt DateTime @default(now()) @map(name: "created_at")
   updatedAt DateTime @default(now()) @map(name: "updated_at")
   userId Int
@@ -282,8 +287,9 @@
   rules       String
   type        BattleType @default(value: POPULAR)
   activeRound Int        @default(value: 0)
   winners     Fit[]
+  archive     Boolean    @default(false)
   user          User            @relation(fields: [userId], references: [id])
   judges        User[]          @relation(name: "battleJudges")
   collection    Collection      @relation(fields: [collectionId], references: [id])
```


